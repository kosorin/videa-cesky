<paging:MtPage x:Class="VideaCesky.Pages.VideoDetailPage"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
               xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
               xmlns:local="using:VideaCesky.Pages"
               xmlns:converters="using:VideaCesky.Converters"
               xmlns:controls="using:VideaCesky.Controls"
               xmlns:models="using:VideaCesky.Models"
               xmlns:paging="using:MyToolkit.Paging"
               xmlns:i="using:Microsoft.Xaml.Interactivity"
               xmlns:ic="using:Microsoft.Xaml.Interactions.Core"
               xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
               xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
               mc:Ignorable="d"
               Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <paging:MtPage.Resources>
        <Style x:Key="BaseDetailTextStyle"
               TargetType="TextBlock"
               BasedOn="{StaticResource BaseTextBlockStyle}">
            <Setter Property="TextWrapping"
                    Value="Wrap" />
        </Style>
    </paging:MtPage.Resources>

    <paging:MtPage.BottomAppBar>
        <CommandBar>
            <AppBarButton Label="přehrát"
                          Icon="Play"
                          Click="PlayButton_Click" />
            <AppBarButton Label="komentáře"
                          Click="CommentsButton_Click">
                <AppBarButton.Icon>
                    <PathIcon HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Data="M15.2402715682983,4.30370998382568L17.0930042266846,4.67772197723389 18.605936050415,5.6977014541626 19.6259670257568,7.21056270599365 20,9.06322193145752 19.387866973877,11.3955745697021 17.7735290527344,13.0877542495728 18.7020664215088,15.777491569519 16.0407161712646,13.7504138946533 15.2402715682983,13.8229475021362 13.3875398635864,13.4488983154297 11.8746089935303,12.428840637207 10.8545770645142,10.915904045105 10.4805450439453,9.06322193145752 10.8545770645142,7.21056270599365 11.8746089935303,5.6977014541626 13.3875398635864,4.67772197723389 15.2402715682983,4.30370998382568z M0,0L15.2402725219727,0 15.2402725219727,2.71610236167908 12.7720489501953,3.2156834602356 10.7542886734009,4.57724571228027 9.39274597167969,6.59501600265503 8.89317512512207,9.06322193145752 9.22721481323242,11.0968503952026 9.27644920349121,11.236367225647 5.2262225151062,11.236367225647 2.64513969421387,15.1121597290039 2.64513969421387,11.236367225647 0,11.236367225647 0,0z" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarButton Label="otevřít v prohlížeči"
                          Click="WebButton_Click"
                          Icon="World" />
        </CommandBar>
    </paging:MtPage.BottomAppBar>

    <Grid>
        <Grid.ChildrenTransitions>
            <TransitionCollection>
                <EntranceThemeTransition />
            </TransitionCollection>
        </Grid.ChildrenTransitions>

        <ScrollViewer>
            <StackPanel Margin="19,12,19,48">

                <!--Title-->
                <TextBlock Style="{StaticResource BaseDetailTextStyle}"
                           Text="{Binding Title}"
                           FontSize="26.667"
                           LineHeight="26.667" />

                <!--Datum + Hodnocení-->
                <Grid>
                    <TextBlock Style="{StaticResource BaseDetailTextStyle}"
                               Text="{Binding Date, Converter={StaticResource DateTimeConverter}}"
                               Opacity="0.5"
                               FontSize="16" />
                    <TextBlock Style="{StaticResource BaseDetailTextStyle}"
                               Opacity="0.8"
                               FontSize="16"
                               FontFamily="Segoe UI Symbol"
                               Margin="20,0,0,0"
                               HorizontalAlignment="Right">
                        <Run Text="&#xe082;" />
                        <Run Text="{Binding Rating}" />
                        <Run Text="/10"
                             FontSize="13.333" />
                    </TextBlock>
                </Grid>

                <!--Detail-->
                <TextBlock Style="{StaticResource BaseDetailTextStyle}"
                           Text="{Binding Detail}"
                           Margin="0,5,0,0" />

                <!--Tagy-->
                <StackPanel Orientation="Horizontal"
                            Margin="0,20,0,5">
                    <Viewbox>
                        <Path Data="M20.767953,3.9810952C20.328064,3.9812204 19.8883,4.1492261 19.553289,4.4847366 18.882268,5.1567589 18.882268,6.2447945 19.553289,6.9148165 20.22331,7.5858384 21.312346,7.5858384 21.983367,6.9148165 22.654389,6.2447945 22.655389,5.1567589 21.983367,4.4847366 21.647857,4.1487259 21.207842,3.9809703 20.767953,3.9810952z M17.465273,0.7463401C17.479101,0.74580087,17.493038,0.74601926,17.507038,0.74701866L25.283023,1.3420517C25.466037,1.3560287,25.606021,1.4970202,25.619021,1.6770132L26.140046,9.5310313C26.148042,9.6400419,26.106019,9.7500273,26.028047,9.8290678L15.099052,20.665086C15.028069,20.735033 14.933068,20.778062 14.833062,20.781053 14.733056,20.781053 14.638055,20.744066 14.567041,20.674059L6.2890725,12.394013C6.2200725,12.325043 6.1810711,12.229035 6.1830852,12.130036 6.1850689,12.031037 6.2260845,11.934052 6.2990826,11.863068L17.20705,0.86103256C17.277039,0.79101751,17.368476,0.7501153,17.465273,0.7463401z M12.224042,0.00024056435C12.237869,-0.00024592876,12.251807,4.0531158E-06,12.265808,0.0010040402L15.890998,0.27800217 4.4063958,11.853927C4.3333919,11.923927 4.2913897,12.021927 4.2913898,12.121926 4.2893896,12.220925 4.3273916,12.314925 4.3973953,12.384925L10.902736,18.889883C9.7266746,20.056875 8.915632,20.86087 8.9156322,20.86087 8.8436284,20.931869 8.7486234,20.973869 8.6486182,20.975868 8.549613,20.978868 8.454608,20.939869 8.3846042,20.868869L0.10517025,12.590923C0.03516674,12.519923 -0.0028352737,12.426924 0.00016498566,12.327924 0.00016498566,12.226925 0.043167114,12.130926 0.11417103,12.058926L11.966792,0.11400324C12.035921,0.043128729,12.127254,0.0036446452,12.224042,0.00024056435z"
                              Stretch="Uniform"
                              Fill="{ThemeResource PhoneForegroundBrush}"
                              Width="24"
                              Height="24" />
                    </Viewbox>
                    <TextBlock Text="tagy"
                               Margin="8,-2,0,0"
                               Style="{StaticResource BaseDetailTextStyle}"
                               VerticalAlignment="Center" />
                </StackPanel>
                <ItemsControl ItemsSource="{Binding Tags}"
                              Margin="0,5,0,0">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <controls:WrapPanel />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Content="{Binding Name}"
                                    Click="TagButton_Click"
                                    Margin="0,0,5,5">
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

            </StackPanel>
        </ScrollViewer>

    </Grid>
</paging:MtPage>

