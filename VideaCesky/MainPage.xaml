<Page xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:VideaCesky"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:sample="using:Blend.SampleData.SampleDataSource"
      x:Class="VideaCesky.MainPage"
      mc:Ignorable="d"
      Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
      d:DataContext="{d:DesignData /SampleData/SampleDataSource/SampleDataSource.xaml}">

    <Page.Resources>
        <sample:SampleDataSource x:Key="SampleDataSource"
                                 d:IsDataSource="True" />

        <DataTemplate x:Key="CategoryTemplate">
            <StackPanel Margin="0,0,0,10">
                <TextBlock Text="{Binding Name}"
                           Style="{ThemeResource ListViewItemTextBlockStyle}" />
                <TextBlock Text="{Binding Description}"
                           Style="{ThemeResource ListViewItemContentTextBlockStyle}"
                           Opacity="0.5"
                           TextWrapping="WrapWholeWords" />
            </StackPanel>
        </DataTemplate>

    </Page.Resources>

    <Page.BottomAppBar>
        <CommandBar>
            <AppBarButton Label="obnovit"
                          Icon="Refresh"
                          Click="RefreshButton_Click" />
            <AppBarButton Label="nápověda"
                          Icon="Help"
                          Click="HelpButton_Click" />
        </CommandBar>
    </Page.BottomAppBar>

    <Grid>
        <Grid.ChildrenTransitions>
            <TransitionCollection>
                <EntranceThemeTransition />
            </TransitionCollection>
        </Grid.ChildrenTransitions>

        <Pivot Title="VIDEA ČESKY">

            <PivotItem Header="nejnovější">
                <local:VideoList x:Name="VideoList"
                                 Feed="http://www.videacesky.cz"
                                 Click="VideoList_Click" />
            </PivotItem>

            <PivotItem Header="kategorie">
                <ListView ItemsSource="{Binding Categories}"
                          ItemTemplate="{StaticResource CategoryTemplate}"
                          SelectionChanged="CategoriesListView_SelectionChanged" />
            </PivotItem>

        </Pivot>

    </Grid>
</Page>
